# Лабораторная работа №2
Задача - расчет показателей временной области вариабельности сердечного ритма (ВСР)
из последовательности RR-интервалов.
Данные показатели отражают функциональное состояние человека.
Подробнее интерпретация и возможности использования данных показателей см. в 
[документе](http://www.vestar.ru/atts/2581/258101.pdf)

## Дано

1. 20 файлов в формате `.txt` с последовательностью RR-интервалов в мс.
2. Необходимо рассчитать для каждой последовательности диагностические показатели временной области:
   - `SDNN` — стандартное отклонение интервалов `NN`. `SDNN` является мерой изменений частоты сердечных сокращений. 
   `SDNN` отражает все циклические компоненты, ответственные за изменчивость в период записи, 
   поэтому он представляет общую изменчивость.
   - `RMSSD` — «среднеквадратичное значение последовательных различий», квадратный корень из среднего значения 
   квадратов последовательных различий между соседними `NN`.
   - `SDSD` — «стандартное отклонение последовательных различий», стандартное отклонение последовательных 
   различий между соседними `NN`.
   - `NN50` — количество пар последовательных `NN`, которые отличаются более чем на 50 мс.
   - `pNN50` — доля `NN50`, деленная на общее количество `NN`.
   - `NN20` — количество пар последовательных `NN`, которые отличаются более чем на 20 мс.
   - `pNN20` — доля `NN20`, деленная на общее количество `NN`.

## Шаг 1 Открыть файлы и считать последовательности RR-интервалов

Функция принимает на вход строку - путь к файлу с последовательностью RR-интервалов.
Функция возвращает список RR-интервалов в формате вещественных чисел.


## Шаг 2 Расчет `SDNN` для последовательности RR-интервалов

Функция принимает на вход список RR-интервалов в формате вещественных чисел.
Функция возвращает значение `SDNN`, рассчитанное по формуле `SDNN`:

<!-- \sqrt{\frac{1}{N}\sum_{i=1}^{N}(RR_{i} - RR_{mean})^{2}} -->
<img src="https://latex.codecogs.com/svg.image?\sqrt{\frac{1}{N}\sum_{i=1}^{N}(RR_{i}&space;-&space;RR_{mean})^{2}}" title="\sqrt{\frac{1}{N}\sum_{i=1}^{N}(RR_{i} - RR_{mean})^{2}}" />

, где `N` - количество RR-интервалов в ряду, 
`RRmean` - среднее арифметическое RR-интервалов в ряду

## Шаг 3 Расчет `RMSSD` для последовательности RR-интервалов

Функция принимает на вход список RR-интервалов в формате вещественных чисел.
Функция возвращает значение `RMSSD`, рассчитанное по формуле `RMSSD`:

<!-- \sqrt{\frac{1}{N-1}\sum_{i=1}^{N}(RR_{i} - RR_{i+1})^{2}} -->
<img src="https://latex.codecogs.com/svg.image?\sqrt{\frac{1}{N-1}\sum_{i=1}^{N}(RR_{i}&space;-&space;RR_{i&plus;1})^{2}}" title="\sqrt{\frac{1}{N-1}\sum_{i=1}^{N}(RR_{i} - RR_{i+1})^{2}}" />


, где `N` - количество RR-интервалов в ряду


## Шаг 4 Расчет `SDSD` для последовательности RR-интервалов

Функция принимает на вход список RR-интервалов в формате вещественных чисел.
Функция возвращает значение `SDSD`, рассчитанное по формуле `SDSD`:

<!-- \sqrt{\frac{1}{N-1}\sum_{i=1}^{N}(RRd_{i} - RRd_{mean})^{2}}
RRd = RR_{i} - RR_{i+1}  -->
<img src="https://latex.codecogs.com/svg.image?\sqrt{\frac{1}{N-1}\sum_{i=1}^{N}(RRd_{i}&space;-&space;RRd_{mean})^{2}}RRd&space;=&space;RR_{i}&space;-&space;RR_{i&plus;1}&space;" title="\sqrt{\frac{1}{N-1}\sum_{i=1}^{N}(RRd_{i} - RRd_{mean})^{2}}" />
, где n - количество RR-интервалов в ряду
<img src="https://latex.codecogs.com/png.image?\dpi{110}&space;RRd&space;=&space;RR_{i}&space;-&space;RR_{i&plus;1}&space;" title="RRd = RR_{i} - RR_{i+1} " />

## Шаг 5 Расчет `NN` и `pNN` показателей для последовательности RR-интервалов

Функция принимает на вход список RR-интервалов в формате вещественных чисел и 
параметр `m` - порог для разности 
последовательных пар RR-интервалов.

Функция возвращает значение `NN` по формуле:
<!-- NN = \left\|RRd\leqslant m \right\| 
pNN = \frac{\left\|RRd\leqslant m \right\|}{n}-->
<img src="https://latex.codecogs.com/png.image?\dpi{110}&space;NN&space;=&space;\left\|RRd\leqslant&space;m&space;\right\|" title="NN = \left\|RRd\leqslant m \right\|" />
и значение `pNN` по формуле:
<img src="https://latex.codecogs.com/png.image?\dpi{110}&space;pNN&space;=&space;\frac{\left\|RRd\leqslant&space;m&space;\right\|}{n}" title="pNN = \frac{\left\|RRd\leqslant m \right\|}{n}" />
, где `n` - количество RR-интервалов в ряду
<img src="https://latex.codecogs.com/png.image?\dpi{110}&space;RRd&space;=&space;RR_{i}&space;-&space;RR_{i&plus;1}&space;" title="RRd = RR_{i} - RR_{i+1} " />

## Шаг 6 Сохранение таблицы рассчитанных показателей в файл

Функция принимает на вход значения рассчитанных показателей в формате словаря 
```py
{'SDNN':SDNN, '`RMSSD`':`RMSSD`, '`SDSD`':`SDSD`,
 'NN50':NN50, 'pNN50':pNN50,
 'NN20':NN20, 'pNN20':pNN20}
```
и путь сохранения файла.

Функция возвращает файл `.txt` с таблицей рассчитанных показателей в директории компьютера по указанному пути.
для называния файла с рассчитанными значениями показателей ВСР следует использовать имя файла с RR-интервалами 
и добавкой в конце "_HRV"
